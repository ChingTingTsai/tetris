/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/brick.js":
/*!**********************!*\
  !*** ./src/brick.js ***!
  \**********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const grid = __webpack_require__(/*! ./grid */ \"./src/grid.js\")\r\n\r\ncolorLst = [\"#0341AE\",\"#72CB3B\",\"#FFD500\",\"#FF971C\",\"#FF3213\",\"#800080\"]\r\nlet prevColor = 0;\r\nclass brick{\r\n    gridItem;\r\n    numRotate;\r\n    startX\r\n    startY\r\n    bottomCoord\r\n    worldWidth = 7\r\n    color\r\n    width = 4\r\n    height = 4\r\n    emptyFirstRow = 0\r\n    emptyFirstCol = 0\r\n\r\n    constructor(){\r\n        this.gridItem = new grid();\r\n        this.numRotate = Math.floor(Math.random()* 4);\r\n        this.startX = Math.floor(Math.random()* this.worldWidth)\r\n        this.startY = 0\r\n        this.bottomCoord = []\r\n        this.color = this.setBrickColor()\r\n    }\r\n\r\n    setBrickColor(){\r\n        let randNum = Math.floor(Math.random()* 6)\r\n        while(randNum == prevColor){\r\n            randNum = Math.floor(Math.random()* 6)\r\n        }\r\n        prevColor = randNum\r\n        return colorLst[randNum]\r\n    }\r\n\r\n    getX(){\r\n        return this.startX\r\n    }\r\n\r\n    getY(){\r\n        return this.startY\r\n    }\r\n\r\n    moveX(x){\r\n        this.startX += x\r\n    }\r\n\r\n    moveY(y){\r\n        this.startY += y\r\n    }\r\n\r\n    clearGrid(){\r\n        this.gridItem.resetColor()\r\n    }\r\n\r\n    getGridItem(){\r\n        return this.gridItem;\r\n    }\r\n\r\n    setNumRotate(num){\r\n        this.numRotate = num\r\n    }\r\n\r\n    getNumRotate(){\r\n        return this.numRotate\r\n    }\r\n\r\n    getBottomCoord(){\r\n        return this.bottomCoord\r\n    }\r\n    \r\n    getWidthHeight(){\r\n        return [this.width,this.height]\r\n    }\r\n\r\n    getEmptyRowCol(){\r\n        return [this.emptyFirstRow, this.emptyFirstCol]\r\n    }\r\n}\r\n// (x,y)\r\nclass iBrick extends brick{\r\n    constructor(){\r\n        super();\r\n        this.getGridItem()\r\n    }\r\n    getGridItem(){\r\n        this.clearGrid()\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.gridItem.colorGrid(0, 1, this.color);\r\n            this.gridItem.colorGrid(1, 1, this.color);\r\n            this.gridItem.colorGrid(2, 1, this.color);\r\n            this.gridItem.colorGrid(3, 1, this.color);\r\n            this.emptyFirstRow = 1\r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.gridItem.colorGrid(1, 0, this.color);\r\n            this.gridItem.colorGrid(1, 1, this.color);\r\n            this.gridItem.colorGrid(1, 2, this.color);\r\n            this.gridItem.colorGrid(1, 3, this.color);\r\n            this.emptyFirstCol = 1\r\n        }\r\n        return this.gridItem\r\n    }\r\n    \r\n    getBottomCoord(){\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.bottomCoord = [[0, 2], [1, 2], [2, 2], [3,2]]\r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.bottomCoord = [[1, 4]]\r\n        }\r\n        return this.bottomCoord\r\n    }\r\n\r\n    getLeftCoord(){\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.leftCoord = [[-1, 1]]\r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.leftCoord = [[0, 0], [0, 1], [0,2], [0,3]]\r\n        }\r\n        return this.leftCoord\r\n    }\r\n\r\n    getRightCoord(){\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.rightCoord = [[4, 1]]\r\n            \r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.rightCoord = [[2, 0], [2, 1], [2, 2], [2, 3]]\r\n        }\r\n        return this.rightCoord\r\n    }\r\n\r\n    getWidthHeight(){\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.width = 4\r\n            this.height = 1\r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.width = 1\r\n            this.height = 4\r\n        }\r\n        return [this.width,this.height]\r\n    }\r\n}\r\n\r\nclass zBrick extends brick{\r\n    constructor(){\r\n        super();\r\n        this.getGridItem()\r\n    }\r\n    getGridItem(){\r\n        this.clearGrid()\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            \r\n            this.gridItem.colorGrid(0, 0, this.color);\r\n            this.gridItem.colorGrid(0, 1, this.color);\r\n            this.gridItem.colorGrid(1, 1, this.color);\r\n            this.gridItem.colorGrid(1, 2, this.color);\r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            \r\n            this.gridItem.colorGrid(0, 1, this.color);\r\n            this.gridItem.colorGrid(1, 1, this.color);\r\n            this.gridItem.colorGrid(1, 0, this.color);\r\n            this.gridItem.colorGrid(2, 0, this.color);\r\n        }\r\n        return this.gridItem\r\n    }\r\n\r\n    getBottomCoord(){\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.bottomCoord = [[0,2], [1,3]]\r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.bottomCoord = [[0, 2], [1, 2], [2, 1]]\r\n        }\r\n        return this.bottomCoord\r\n    }\r\n\r\n    getLeftCoord(){\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.leftCoord = [[-1, 0], [-1, 1], [1, 2]]\r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.leftCoord = [[0, 0], [-1, 1]]\r\n        }\r\n        return this.leftCoord\r\n    }\r\n\r\n    getRightCoord(){\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.rightCoord = [[1, 0], [2, 1], [2, 2]]\r\n            \r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.rightCoord = [[3, 0], [2, 1]]\r\n        }\r\n        return this.rightCoord\r\n    }\r\n\r\n    getWidthHeight(){\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.width = 2\r\n            this.height = 3\r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.width = 3\r\n            this.height = 2\r\n        }\r\n        return [this.width,this.height]\r\n    }\r\n}\r\n\r\nclass lBrick extends brick{\r\n    constructor(){\r\n        super();\r\n        this.getGridItem()\r\n    }\r\n    getGridItem(){\r\n        this.clearGrid()\r\n        if(this.numRotate % 4 == 0){\r\n            this.gridItem.colorGrid(0, 0, this.color);\r\n            this.gridItem.colorGrid(1, 0, this.color);\r\n            this.gridItem.colorGrid(2, 0, this.color);\r\n            this.gridItem.colorGrid(2, 1, this.color);\r\n        }\r\n        else if(this.numRotate % 4 == 1){\r\n            this.gridItem.colorGrid(2, 0, this.color);\r\n            this.gridItem.colorGrid(2, 1, this.color);\r\n            this.gridItem.colorGrid(2, 2, this.color);\r\n            this.gridItem.colorGrid(1, 2, this.color);\r\n            this.emptyFirstCol = 1\r\n        }\r\n        else if(this.numRotate % 4 == 2){\r\n            this.gridItem.colorGrid(0, 1, this.color);\r\n            this.gridItem.colorGrid(0, 2, this.color);\r\n            this.gridItem.colorGrid(1, 2, this.color);\r\n            this.gridItem.colorGrid(2, 2, this.color);\r\n            this.emptyFirstRow = 1\r\n        }\r\n        else if(this.numRotate % 4 == 3){\r\n            this.gridItem.colorGrid(0, 0, this.color);\r\n            this.gridItem.colorGrid(0, 1, this.color);\r\n            this.gridItem.colorGrid(1, 0, this.color);\r\n            this.gridItem.colorGrid(0, 2, this.color);\r\n        }\r\n        return this.gridItem\r\n    }\r\n\r\n    getBottomCoord(){\r\n        if(this.numRotate % 4 == 0){\r\n            this.bottomCoord = [[0,1], [1,1], [2,2]]\r\n        }\r\n        else if(this.numRotate % 4 == 1){\r\n            this.bottomCoord = [[1, 3], [2,3]]\r\n        }\r\n        else if(this.numRotate % 4 == 2){\r\n            this.bottomCoord = [[0,3], [1,3], [2,3]]\r\n        }\r\n        else if(this.numRotate % 4 == 3){\r\n            this.bottomCoord = [[0,3], [1, 1]]\r\n        }\r\n        return this.bottomCoord\r\n    }\r\n\r\n    getLeftCoord(){\r\n        if(this.numRotate % 4 == 0){\r\n            this.leftCoord = [[-1, 0], [1, -1]]\r\n        }\r\n        else if(this.numRotate % 4 == 1){\r\n            this.leftCoord = [[0, 2], [1, 0], [1, 1]]\r\n        }\r\n        else if(this.numRotate % 4 == 2){\r\n            this.leftCoord = [[-1, 1], [-1, 2]]\r\n        }\r\n        else if(this.numRotate % 4 == 3){\r\n            this.leftCoord = [[-1, 0], [-1, 1], [-1, 2]]\r\n        }\r\n        return this.leftCoord\r\n    }\r\n\r\n    getRightCoord(){\r\n        if(this.numRotate % 4 == 0){\r\n            this.rightCoord = [[3, 0], [3, 1]]\r\n        }\r\n        else if(this.numRotate % 4 == 1){\r\n            this.rightCoord = [[3, 0], [3, 1], [3, 2]]\r\n        }\r\n        else if(this.numRotate % 4 == 2){\r\n            this.rightCoord = [[1, 1], [3, 2]]\r\n        }\r\n        else if(this.numRotate % 4 == 3){\r\n            this.rightCoord = [[2, 0], [1, 1], [1, 2]]\r\n        }\r\n        return this.rightCoord\r\n    }\r\n\r\n    getWidthHeight(){\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.width = 3\r\n            this.height = 2\r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.width = 2\r\n            this.height = 3\r\n        }\r\n        \r\n        return [this.width,this.height]\r\n    }\r\n}\r\n\r\nclass tBrick extends brick{\r\n    constructor(){\r\n        super();\r\n        this.getGridItem()\r\n    }\r\n    getGridItem(){\r\n        this.clearGrid()\r\n        if(this.numRotate % 4 == 0){\r\n            this.gridItem.colorGrid(1, 0, this.color);\r\n            this.gridItem.colorGrid(0, 1, this.color);\r\n            this.gridItem.colorGrid(1, 1, this.color);\r\n            this.gridItem.colorGrid(1, 2, this.color);\r\n        }\r\n        else if(this.numRotate % 4 == 1){\r\n            this.gridItem.colorGrid(1, 0, this.color);\r\n            this.gridItem.colorGrid(0, 1, this.color);\r\n            this.gridItem.colorGrid(1, 1, this.color);\r\n            this.gridItem.colorGrid(2, 1, this.color);\r\n        }\r\n        else if(this.numRotate % 4 == 2){\r\n            this.gridItem.colorGrid(1, 1, this.color);\r\n            this.gridItem.colorGrid(1, 2, this.color);\r\n            this.gridItem.colorGrid(1, 0, this.color);\r\n            this.gridItem.colorGrid(2, 1, this.color);\r\n            this.emptyFirstCol = 1\r\n        }\r\n        else if(this.numRotate % 4 == 3){\r\n            this.gridItem.colorGrid(0, 1, this.color);\r\n            this.gridItem.colorGrid(1, 1, this.color);\r\n            this.gridItem.colorGrid(2, 1, this.color);\r\n            this.gridItem.colorGrid(1, 2, this.color);\r\n            this.emptyFirstRow = 1\r\n        }\r\n        return this.gridItem\r\n    }\r\n\r\n    getBottomCoord(){\r\n        if(this.numRotate % 4 == 0){\r\n            this.bottomCoord = [[0, 2], [1, 3]]\r\n        }\r\n        else if(this.numRotate % 4 == 1){\r\n            this.bottomCoord = [[0,2], [1, 2], [2, 2]]\r\n        }\r\n        else if(this.numRotate % 4 == 2){\r\n            this.bottomCoord = [[1, 3], [2, 2]]\r\n        }\r\n        else if(this.numRotate % 4 == 3){\r\n            this.bottomCoord = [[0, 2], [1,3], [2, 2]]\r\n        }\r\n        return this.bottomCoord\r\n    }\r\n    \r\n    getLeftCoord(){\r\n        if(this.numRotate % 4 == 0){\r\n            this.leftCoord = [[0, 0], [-1, 1], [0, 2]]\r\n        }\r\n        else if(this.numRotate % 4 == 1){\r\n            this.leftCoord = [[0, 0], [-1, 1]]\r\n        }\r\n        else if(this.numRotate % 4 == 2){\r\n            this.leftCoord = [[0, 0], [0, 1], [0, 2]]\r\n        }\r\n        else if(this.numRotate % 4 == 3){\r\n            this.leftCoord = [[0, 2], [-1, 1]]\r\n        }\r\n        return this.leftCoord\r\n    }\r\n\r\n    getRightCoord(){\r\n        if(this.numRotate % 4 == 0){\r\n            this.rightCoord = [[2, 0], [2, 1], [2, 2]]\r\n        }\r\n        else if(this.numRotate % 4 == 1){\r\n            this.rightCoord = [[2, 0], [3, 1]]\r\n        }\r\n        else if(this.numRotate % 4 == 2){\r\n            this.rightCoord = [[2, 0], [3, 1], [2, 2]]\r\n        }\r\n        else if(this.numRotate % 4 == 3){\r\n            this.rightCoord = [[2, 2], [3, 1]]\r\n        }\r\n        return this.rightCoord\r\n    }\r\n\r\n    getWidthHeight(){\r\n        if(this.numRotate % 4 == 0 || this.numRotate % 4 == 2){\r\n            this.width = 2\r\n            this.height = 3\r\n        }\r\n        else if(this.numRotate % 4 == 1 || this.numRotate % 4 == 3){\r\n            this.width = 3\r\n            this.height = 2\r\n        }\r\n        \r\n        return [this.width,this.height]\r\n    }\r\n}\r\n\r\nmodule.exports = {iBrick, zBrick, lBrick, tBrick}\r\n\r\n// const Grid = require(\"./grid\");\r\n\r\n// class Brick{\r\n//     grid = new Grid();\r\n//     rotateState = 0; // 代表方块旋转的状态, 只有四种: 0, 1, 2, 3\r\n//     constructor(){\r\n        \r\n//     }\r\n\r\n//     getGridWidth() {\r\n//         return this.grid.width;\r\n//     }\r\n\r\n//     getGridHeight() {\r\n//         return this.grid.height;\r\n//     }\r\n\r\n//     getGridTiles(){\r\n//         return this.grid.getTiles();\r\n//     }\r\n\r\n//     getGridTile(x, y) {\r\n//         const tiles = this.grid.getTiles();\r\n//         return tiles[y * this.grid.width + x];\r\n//     }\r\n\r\n//     setRotateState() {\r\n\r\n//     }\r\n\r\n//     getRotateState() {\r\n//         return this.rotateState;\r\n//     }\r\n// }\r\n\r\n// class ABrick extends Brick{\r\n//     constructor(){\r\n//         super();\r\n//     }\r\n//     setRotateState(state){\r\n//         this.grid.clear();\r\n//         this.rotateState = state;\r\n//         if(state == 0){\r\n//             this.grid.setTileFill(1, 0, true);\r\n//             this.grid.setTileFill(0, 1, true);\r\n//             this.grid.setTileFill(1, 1, true);\r\n//             this.grid.setTileFill(2, 1, true);\r\n//         }else if(state == 1){\r\n//             this.grid.setTileFill(1, 0, true);\r\n//             this.grid.setTileFill(1, 1, true);\r\n//             this.grid.setTileFill(1, 2, true);\r\n//             this.grid.setTileFill(2, 1, true);\r\n//         }else if(state == 2){\r\n//             this.grid.setTileFill(0, 1, true);\r\n//             this.grid.setTileFill(1, 1, true);\r\n//             this.grid.setTileFill(2, 1, true);\r\n//             this.grid.setTileFill(1, 2, true);\r\n//         }else if(state == 3){\r\n//             this.grid.setTileFill(1, 0, true);\r\n//             this.grid.setTileFill(1, 1, true);\r\n//             this.grid.setTileFill(1, 2, true);\r\n//             this.grid.setTileFill(0, 1, true);\r\n//         }\r\n//     }\r\n// }\r\n\r\n// class LBrick extends Brick{\r\n//     constructor(){\r\n//         super();\r\n//     }\r\n\r\n//     setRotateState(state){\r\n//         this.grid.clear();\r\n//         this.rotateState = state;\r\n//         if(state == 0){\r\n//             this.grid.setTileFill(0, 0, true);\r\n//             this.grid.setTileFill(0, 1, true);\r\n//             this.grid.setTileFill(0, 2, true);\r\n//             this.grid.setTileFill(1, 2, true);\r\n//         }else if(state == 1){\r\n//             this.grid.setTileFill(0, 0, true);\r\n//             this.grid.setTileFill(1, 0, true);\r\n//             this.grid.setTileFill(2, 0, true);\r\n//             this.grid.setTileFill(0, 1, true);\r\n//         }else if(state == 2){\r\n//             this.grid.setTileFill(0, 0, true);\r\n//             this.grid.setTileFill(1, 0, true);\r\n//             this.grid.setTileFill(1, 1, true);\r\n//             this.grid.setTileFill(1, 2, true);\r\n//         }else if(state == 3){\r\n//             this.grid.setTileFill(2, 0, true);\r\n//             this.grid.setTileFill(0, 1, true);\r\n//             this.grid.setTileFill(1, 1, true);\r\n//             this.grid.setTileFill(2, 1, true);\r\n//         }\r\n//     }\r\n// }\r\n\r\n// class ZBrick extends Brick{\r\n//     constructor(){\r\n//         super();\r\n//     }\r\n\r\n//     setRotateState(state){\r\n//         this.grid.clear();\r\n//         this.rotateState = state;\r\n//         if(state == 0 || state == 2){\r\n//             this.grid.setTileFill(0, 0, true);\r\n//             this.grid.setTileFill(0, 1, true);\r\n//             this.grid.setTileFill(1, 1, true);\r\n//             this.grid.setTileFill(1, 2, true);    \r\n//         }else if(state == 1 || state == 3){\r\n//             this.grid.setTileFill(1, 0, true);\r\n//             this.grid.setTileFill(2, 0, true);\r\n//             this.grid.setTileFill(0, 1, true);\r\n//             this.grid.setTileFill(1, 1, true);\r\n//         }\r\n\r\n//     }\r\n\r\n// }\r\n\r\n// class IBrick extends Brick{\r\n//     constructor(){\r\n//         super();\r\n//     }\r\n//     setRotateState(state) {\r\n//         this.grid.clear();\r\n//         this.rotateState = state;\r\n//         if(state == 0 || state == 2){\r\n//             this.grid.setTileFill(1, 0, true);\r\n//             this.grid.setTileFill(1, 1, true);\r\n//             this.grid.setTileFill(1, 2, true);\r\n//             this.grid.setTileFill(1, 3, true);    \r\n//         }else if(state == 1 || state == 3){\r\n//             this.grid.setTileFill(0, 1, true);\r\n//             this.grid.setTileFill(1, 1, true);\r\n//             this.grid.setTileFill(2, 1, true);\r\n//             this.grid.setTileFill(3, 1, true);    \r\n//         }\r\n//     }\r\n// }\r\n\r\n\r\n// class OBrick extends Brick{\r\n//     constructor(){\r\n//         super();\r\n//     }\r\n//     setRotateState(state) {\r\n//         this.grid.clear();\r\n//         this.rotateState = state;\r\n//         this.grid.setTileFill(0, 0, true);\r\n//         this.grid.setTileFill(0, 1, true);\r\n//         this.grid.setTileFill(1, 0, true);\r\n//         this.grid.setTileFill(1, 1, true);    \r\n//     }\r\n// }\r\n// module.exports = { ABrick, LBrick, ZBrick, IBrick, OBrick }\r\n\n\n//# sourceURL=webpack://my-webpack-project/./src/brick.js?");

/***/ }),

/***/ "./src/grid.js":
/*!*********************!*\
  !*** ./src/grid.js ***!
  \*********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const Tile = __webpack_require__(/*! ./tile */ \"./src/tile.js\")\r\nclass grid{\r\n    gridArray = []; \r\n    constructor(){\r\n        for(let i = 0; i < 4; i++){\r\n            let row = [];\r\n            for(let j = 0; j < 4; j++){\r\n                row.push(new Tile());\r\n            };\r\n            this.gridArray.push(row);\r\n        }\r\n    }\r\n    getArray(){\r\n        return this.gridArray;\r\n    }\r\n\r\n    colorGrid(i, j, color){\r\n        this.gridArray[i][j].setColor(color);\r\n    }\r\n\r\n    getTile(x, y){\r\n        return this.gridArray[x][y]\r\n    }\r\n\r\n    resetColor(){\r\n        for(let i = 0; i < 4; i++){\r\n            for(let j = 0; j < 4; j++){\r\n                this.gridArray[i][j].setColor(0)\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n}\r\nmodule.exports = grid;\r\n\r\n// const Tile = require(\"./tile\");\r\n\r\n// class Grid{\r\n//     tiles = [] // Tile[]\r\n//     width = 4;\r\n//     height = 4;\r\n\r\n//     constructor(){\r\n//         this._initTiles();\r\n//     }\r\n\r\n//     _initTiles(){\r\n//         this.tiles = [];\r\n//         for(let y=0;y<this.height;y++){\r\n//             for(let x=0;x<this.width;x++){\r\n//                 const tile = new Tile(x, y);\r\n//                 this.tiles.push(tile);\r\n//             }\r\n//         }\r\n//     }\r\n\r\n//     clear() {\r\n//         this._initTiles();\r\n//     }\r\n\r\n//     setTileFill(x, y, fill){\r\n//         const index = y * this.width + x;\r\n//         const tile = this.tiles[index];\r\n//         tile.setFill(fill);\r\n//     }\r\n\r\n//     getTiles() {\r\n//         return this.tiles;\r\n//     }\r\n\r\n//     getWidth() {\r\n//         return this.width;\r\n//     }\r\n\r\n//     getHeight() {\r\n//         return this.width;\r\n//     }\r\n\r\n// }\r\n\r\n// module.exports = Grid;\n\n//# sourceURL=webpack://my-webpack-project/./src/grid.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("const World = __webpack_require__(/*! ./world */ \"./src/world.js\")\n\nfunction setUpCanvas(){\n    const myCanvas = document.getElementById(\"canvas\");\n    const ctx = myCanvas.getContext(\"2d\")\n    return ctx\n}\n\nconst ctx = setUpCanvas()\nconst world = new World(ctx)\nworld.generateBrick()\nworld.draw()\n\ndocument.addEventListener(\"keyup\", (event)=>{\n    if(event.key == \"ArrowUp\"){\n        world.rotateBrick()\n    }\n    else if(event.key == \"ArrowLeft\"){\n        world.moveLeft()\n    }\n    else if(event.key == \"ArrowRight\"){\n        world.moveRight()\n    }\n    else if(event.key == \"ArrowDown\"){\n        world.moveDown()\n    }\n    world.draw()\n})\n// window.setInterval(()=>{\n//     end = world.dropBrick()\n    \n//     if(end == true){\n//         world.resetWorld()\n//     }\n//     world.draw()\n    \n// }, 500)\n\nlet interval;\nlet time = 500;\nlet iter = 0;\nfunction run(){\n    window.clearInterval(interval);\n\n    end = world.dropBrick()\n    \n    if(end == true){\n        world.resetWorld()\n        time = 500\n        iter = 0\n    }\n    world.draw()\n    iter += 1\n    \n    if (time > 100 && iter % 100 == 0){\n        console.log(time)\n        time -= 20;\n    }\n\n    interval = window.setInterval(run, time)\n}\nrun();\n\n\n//# sourceURL=webpack://my-webpack-project/./src/index.js?");

/***/ }),

/***/ "./src/tile.js":
/*!*********************!*\
  !*** ./src/tile.js ***!
  \*********************/
/***/ ((module) => {

eval("class Tile{\r\n    color;\r\n    x\r\n    y\r\n    constructor(){\r\n        this.color = 0;\r\n    }\r\n\r\n    setX(x){\r\n        this.x = x\r\n    }\r\n\r\n    setY(y){\r\n        this.y = y\r\n    }\r\n\r\n    getX(){\r\n        return this.x\r\n    }\r\n\r\n    getY(){\r\n        return this.y\r\n    }\r\n\r\n    setColor(c){\r\n        if (c == 0){\r\n            this.color = 0\r\n        }\r\n        else{\r\n            this.color = c;\r\n        }\r\n    }\r\n\r\n    getColor(){\r\n        return this.color;\r\n    }\r\n\r\n    isFill(){\r\n        if(this.color == 0){\r\n            return false\r\n        }\r\n        else{\r\n            return true\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = Tile;\r\n\r\n// class Tile{\r\n//     gridX\r\n//     gridY\r\n//     fill = false;\r\n//     constructor(gridX, gridY){\r\n//         this.gridX = gridX;\r\n//         this.gridY = gridY;\r\n//     }\r\n\r\n//     isFill(){\r\n//         return this.fill;\r\n//     }\r\n    \r\n//     getGridX() {\r\n//         return this.gridX;\r\n//     }\r\n\r\n//     getGridY() {\r\n//         return this.gridY;\r\n//     }\r\n\r\n//     setFill(fill) {\r\n//         this.fill = fill;\r\n//     }\r\n\r\n// }\r\n\r\n// module.exports = Tile;\r\n\n\n//# sourceURL=webpack://my-webpack-project/./src/tile.js?");

/***/ }),

/***/ "./src/world.js":
/*!**********************!*\
  !*** ./src/world.js ***!
  \**********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const {iBrick, zBrick, lBrick, tBrick} = __webpack_require__(/*! ./brick */ \"./src/brick.js\")\r\nconst BRICKWIDTH = 25\r\nconst initX = 200\r\nfunction drawBrick(ctx, brick){\r\n    // console.log(\"draw brick\")\r\n    const BRICKWIDTH = 25\r\n    for(let x = 0; x < 4; x++){\r\n        for(let y = 0; y < 4; y++){\r\n            const tile = brick.getGridItem().getTile(x, y)\r\n            if(tile.isFill()){\r\n                ctx.fillStyle = tile.getColor()\r\n                ctx.fillRect((brick.getX() + x) * BRICKWIDTH + initX, (brick.getY() + y) * BRICKWIDTH, (BRICKWIDTH-1), (BRICKWIDTH-1))\r\n            }\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nclass World{\r\n    maxLeft = 0\r\n    maxRight = 10\r\n    maxHeight\r\n    tileSize\r\n    brick = null\r\n    allBrick\r\n    allTiles\r\n    ctx\r\n    nextBrick\r\n    constructor(ctx){\r\n        this.allBrick = []\r\n        this.ctx = ctx\r\n        this.maxHeight = 20\r\n        this.allTiles = []\r\n        this.tileSize = 25\r\n        this.score = 0\r\n        this.scoreScale = [40, 100, 300, 1200]\r\n    }\r\n\r\n    moveLeft(){\r\n        this.brick.moveX(-1)\r\n        if (this.touchLeft()){\r\n            this.brick.moveX(1)\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    moveRight(){\r\n        this.brick.moveX(1)\r\n        if (this.touchRight()){\r\n            this.brick.moveX(-1)\r\n        }\r\n    }\r\n\r\n    moveDown(){\r\n        while (!this.touchBottom()){\r\n            this.brick.moveY(1)\r\n        }\r\n        this.dropBrick()\r\n        \r\n    }\r\n\r\n    touchLeft(){\r\n        for (const left of this.brick.getLeftCoord()){\r\n            const coordX = this.brick.getX() + left[0]\r\n            const coordY = this.brick.getY() + left[1]\r\n            if(coordX < this.maxLeft - 1){\r\n                console.log(\"less 0\")\r\n                return true\r\n            }\r\n            for(const tile of this.allTiles){\r\n                // coordX <= tile.getX()+1 \r\n                // if (tile.getX() <= this.brick.getX() && (coordX < tile.getX() && coordY == tile.getY())){\r\n                // if (tile.getX() <= coordX + 1 && (coordX < tile.getX() && coordY == tile.getY())){\r\n                if (tile.getX() == coordX + 1 && (coordY == tile.getY())){\r\n                    console.log(\"touch left tile\")\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    touchRight(){\r\n        for (const right of this.brick.getRightCoord()){\r\n            const coordX = this.brick.getX() + right[0]\r\n            const coordY = this.brick.getY() + right[1]\r\n            // coordX >= this.maxRight\r\n            if(coordX > this.maxRight){\r\n                console.log(\"maxRight\")\r\n                return true\r\n            }\r\n            for(const tile of this.allTiles){\r\n                // coordX >= tile.getX()\r\n                // if (tile.getX() > this.brick.getX() && coordX > tile.getX() && coordY == tile.getY()){\r\n                if (coordX-1 == tile.getX() && coordY == tile.getY()){\r\n                    console.log(\"touch right tile\")\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    touchBottom(){\r\n        // console.log(\"t\", this.brick.getY())\r\n        for(const tile of this.brick.getBottomCoord()){\r\n            const bottom = this.brick.getY() + tile[1]\r\n            if(bottom > this.maxHeight){\r\n                console.log(\"over 15\")\r\n                return true\r\n            }\r\n        }\r\n        if (this.touchHistoryTiles()){\r\n            return true\r\n        }\r\n        \r\n        return false\r\n    }\r\n\r\n    touchHistoryTiles(){\r\n        for(const tile of this.allTiles){\r\n            const tileX = tile.getX()\r\n            const tileY = tile.getY()\r\n            for (const bottomTile of this.brick.getBottomCoord()){\r\n                const coordX = (this.brick.getX() + bottomTile[0])\r\n                const coordY = (this.brick.getY() + bottomTile[1])\r\n                if(tileX == coordX && coordY == tileY){\r\n                    console.log(\"touch history tile - tileX:\", tileX, \"coordX:\", coordX, \"tileY:\", tileY, \"coordY:\", coordY )\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    resetWorld(){\r\n        this.allBrick = []\r\n        this.allTiles = []\r\n        this.score = 0\r\n        this.brick = null\r\n        this.nextBrick = null\r\n        this.generateBrick()\r\n        this.draw()\r\n    }\r\n\r\n\r\n    generateBrick(){\r\n        const allBricks = [iBrick, zBrick, lBrick, tBrick]\r\n        const index = Math.floor(Math.random() * 4)\r\n        const selectedBrick = allBricks[index]\r\n        if(this.brick == null){\r\n            this.brick = new selectedBrick()\r\n        }\r\n        else{\r\n            this.brick = this.nextBrick\r\n        }\r\n        this.nextBrick = new selectedBrick()\r\n        this.allBrick.push(this.brick)\r\n    }\r\n\r\n    rotateBrick(){\r\n        this.brick.setNumRotate(this.brick.getNumRotate() + 1)\r\n        if(this.touchRight() || this.touchLeft() || this.touchBottom()){\r\n            console.log(this.touchRight(), \" \", this.touchLeft(), \" \", this.touchBottom())\r\n            this.brick.setNumRotate(this.brick.getNumRotate() - 1)\r\n        }\r\n        \r\n    }\r\n\r\n    draw(){\r\n        \r\n        this.ctx.clearRect(0,0,800,700);\r\n        const coordXNextBrick = (this.maxRight+1) * this.tileSize + initX\r\n        const coordYNextBrick = this.tileSize\r\n\r\n        this.ctx.fillStyle = \"#1A1647\";\r\n        this.ctx.fillRect(initX, 0, this.maxRight * this.tileSize, (this.maxHeight + 1)* this.tileSize);\r\n        this.ctx.fillRect(coordXNextBrick, coordYNextBrick, 5 * this.tileSize, 5 * this.tileSize);\r\n\r\n        drawBrick(this.ctx, this.brick)\r\n        this.drawAllBrick()\r\n        this.drawNextBrick(coordXNextBrick, coordYNextBrick, 5 * this.tileSize)\r\n        \r\n        this.ctx.strokeStyle = \"#534CA0\"\r\n        this.ctx.lineWidth = 5\r\n        this.ctx.strokeRect(initX, 0, this.maxRight * this.tileSize, (this.maxHeight + 1)* this.tileSize)\r\n        this.ctx.strokeRect(coordXNextBrick, coordYNextBrick, 5 * this.tileSize, 5 * this.tileSize)\r\n        this.ctx.font = \"45px Comic Sans MS\"\r\n        this.ctx.fillStyle = \"#EFEEFA\"\r\n        this.ctx.textAlign=\"center\"\r\n        this.ctx.fillText(\"Score\", coordXNextBrick+2.5*this.tileSize, coordYNextBrick + 8 * this.tileSize)\r\n        this.ctx.font = \"50px Comic Sans MS\"\r\n        this.ctx.fillText(this.score, coordXNextBrick+2.5*this.tileSize, coordYNextBrick + 10.5 * this.tileSize)\r\n    }\r\n\r\n    dropBrick(){\r\n        if(this.touchBottom()){\r\n            let tiles = this.brick.getGridItem().getArray()\r\n            // console.log(\"tile: \", tiles)\r\n            for(let i = 0; i < 4; i++){\r\n                for(let j = 0; j < 4; j++){\r\n                    if(tiles[i][j].isFill()){\r\n                        // console.log(\"tile:\", i, j)\r\n                        let t = tiles[i][j]\r\n                        t.setX((this.brick.getX() + i))\r\n                        t.setY((this.brick.getY() + j))\r\n                    \r\n                        this.allTiles.push(t)\r\n                    }\r\n                }\r\n            }\r\n            this.checkLine()\r\n            for(const tile of this.allTiles){\r\n                if(tile.getY() == 0){\r\n                    return true\r\n                }\r\n            }\r\n            this.generateBrick()\r\n            \r\n        }\r\n        else{\r\n            this.brick.moveY(1)\r\n        }\r\n        return false\r\n        \r\n    }\r\n\r\n    checkLine(){\r\n        let deleteLine = []\r\n        \r\n        for (let i=0; i <= this.maxHeight; i++){\r\n            let count = 0;\r\n            for(const tile of this.allTiles){\r\n                if (tile.getY() == i){\r\n                    count++;\r\n                }\r\n            }\r\n            if(count == this.maxRight){\r\n                deleteLine.push(i)\r\n            }\r\n        }\r\n        if (deleteLine.length > 0){\r\n            this.score += this.scoreScale[deleteLine.length - 1]\r\n            this.removeLine(deleteLine)\r\n        }\r\n        \r\n    }\r\n\r\n    removeLine(deleteLine){\r\n        let newAllTiles = []\r\n        \r\n        for(const tile of this.allTiles){\r\n            if(deleteLine.includes(tile.getY()) == false){\r\n                newAllTiles.push(tile)\r\n            }\r\n        }\r\n        \r\n        for(const line of deleteLine){\r\n            for(const tile of newAllTiles){\r\n                if (tile.getY() <= line){\r\n                    tile.setY(tile.getY() + 1)\r\n                }\r\n            }\r\n        }\r\n        // console.log(newAllTiles)\r\n        this.allTiles = []\r\n        for(const tile of newAllTiles){\r\n            this.allTiles.push(tile)\r\n        }\r\n    }\r\n\r\n    drawAllBrick(){\r\n        for(const tile of this.allTiles){\r\n            if(tile.isFill()){\r\n                this.ctx.fillStyle = tile.getColor()\r\n            }\r\n            else{\r\n                this.ctx.fillStyle = \"#ffffff\"\r\n            }\r\n            this.ctx.fillRect(tile.getX() * BRICKWIDTH + initX, tile.getY() * BRICKWIDTH, (BRICKWIDTH-1), (BRICKWIDTH-1))\r\n        }\r\n    }\r\n\r\n    drawNextBrick(coordXNextBrick, coordYNextBrick, length){\r\n        for(let x = 0; x < 4; x++){\r\n            for(let y = 0; y < 4; y++){\r\n                const tile = this.nextBrick.getGridItem().getTile(x, y)\r\n                const emptyRowCol = this.nextBrick.getEmptyRowCol()\r\n                const numBlockWidthHeight = this.nextBrick.getWidthHeight()\r\n                const coordX = coordXNextBrick + (length - numBlockWidthHeight[0] * BRICKWIDTH) / 2\r\n                const coordY = coordYNextBrick + (length - numBlockWidthHeight[1] * BRICKWIDTH) / 2\r\n                if(tile.isFill()){\r\n                    this.ctx.fillStyle = tile.getColor()\r\n                    this.ctx.fillRect(coordX + (x - emptyRowCol[1]) * BRICKWIDTH, coordY + (y- emptyRowCol[0]) * BRICKWIDTH, (BRICKWIDTH-1), (BRICKWIDTH-1))\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // touchBottom(){\r\n    //     // console.log(\"t\", this.brick.getY())\r\n    //     for(const tile of this.brick.getBottomCoord()){\r\n    //         const bottom = this.brick.getY() + tile[1]\r\n    //         if(bottom > 15){\r\n    //             console.log(\"over 15\")\r\n    //             return true\r\n    //         }\r\n    //     }\r\n    //     if (this.touchHistoryTiles()){\r\n    //         return true\r\n    //     }\r\n        \r\n    //     return false\r\n    // }\r\n\r\n    // touchHistoryTiles(){\r\n    //     for(const tile of this.allTiles){\r\n    //         const tileX = tile.getX()\r\n    //         const tileY = tile.getY()\r\n    //         for (const bottomTile of this.brick.getBottomCoord()){\r\n    //             const coordX = (this.brick.getX() + bottomTile[0])\r\n    //             const coordY = (this.brick.getY() + bottomTile[1])\r\n    //             if(tileX == coordX && coordY == tileY){\r\n    //                 console.log(\"touch history tile - tileX:\", tileX, \"coordX:\", coordX, \"tileY:\", tileY, \"coordY:\", coordY )\r\n    //                 return true\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //     return false\r\n    // }\r\n\r\n     // moveLeft(){\r\n    //     if (!this.touchLeft()){\r\n    //         this.brick.moveX(-1)\r\n    //     }\r\n        \r\n    // }\r\n\r\n\r\n    // moveRight(){\r\n    //     if (!this.touchRight()){\r\n    //         this.brick.moveX(1)\r\n    //     }\r\n    // }\r\n\r\n    // touchLeft(){\r\n    //     for (const left of this.brick.getLeftCoord()){\r\n    //         const coordX = this.brick.getX() + left[0]\r\n    //         const coordY = this.brick.getY() + left[1]\r\n    //         if(coordX < this.maxLeft){\r\n    //             return true\r\n    //         }\r\n    //         for(const tile of this.allTiles){\r\n    //             // coordX <= tile.getX()+1 \r\n    //             if ((coordX == tile.getX() && coordY == tile.getY())){\r\n    //                 return true\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //     return false\r\n    // }\r\n\r\n    // touchRight(){\r\n    //     for (const right of this.brick.getRightCoord()){\r\n    //         const coordX = this.brick.getX() + right[0]\r\n    //         const coordY = this.brick.getY() + right[1]\r\n    //         // coordX >= this.maxRight\r\n    //         if(coordX >= this.maxRight){\r\n    //             // console.log(\"maxRight\")\r\n    //             return true\r\n    //         }\r\n    //         for(const tile of this.allTiles){\r\n    //             // coordX >= tile.getX()\r\n    //             if (coordX == tile.getX() && coordY == tile.getY()){\r\n    //                 // console.log(\"touch right tile\")\r\n    //                 return true\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //     return false\r\n    // }\r\n\r\n\r\n}\r\n\r\nmodule.exports = World\n\n//# sourceURL=webpack://my-webpack-project/./src/world.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;